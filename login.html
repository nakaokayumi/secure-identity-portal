<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Login | IAM Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="box"> <div class="card">
                <h1>SECURE LOGIN</h1>
                <span class="sub">Enter your credentials to access the portal</span>
                
                <form action="dashboard.html" method="GET"> <label style="display:block; margin-bottom:5px; font-size:12px; color:var(--muted);">Email Address</label>
                    <input type="email" name="email" class="input" placeholder="name@company.com" required>

                    <label style="display:block; margin-bottom:5px; font-size:12px; color:var(--muted);">Password</label>
                    <input type="password" name="password" class="input" placeholder="••••••••" required>

                    <button type="submit" class="btn-primary">Sign In</button>
                </form>

                <div class="footer-links">
                    <p><a href="register.html">Need an account? Create Profile</a></p>
                    <p style="margin-top:10px;"><a href="forgot_password.html" style="opacity: 0.5; font-size: 12px;">Forgot Password?</a></p>
                </div>
            </div>
        </div>
    </div>
    <div id="error-popup" class="popup-overlay">
        <div class="popup-card">
            <h3 style="color: var(--red); margin-bottom: 10px;">ACCESS DENIED</h3>
            <p class="sub" id="error-message">Invalid credentials provided. Please verify your identity and try again.</p>
            <button onclick="closePopup()" class="btn-primary" style="margin-top: 15px; padding: 10px;">RETRY</button>
        </div>
    </div>
    
    <script>
        // 1. Define valid credentials for the demo
        const VALID_USER = "admin@secure.io";
        const VALID_PASS = "Admin123!";
        let failedAttempts = 0;
        let isLocked = false;
        
        const loginForm = document.querySelector('form');
        const emailInput = document.querySelector('input[type="email"]');
        const passwordInput = document.querySelector('input[type="password"]');
        const popup = document.getElementById('error-popup');
        const errorMsg = document.getElementById('error-message');
        const lockoutOverlay = document.getElementById('lockout-overlay');
        const timerBox = document.getElementById('timer-box');
        
        loginForm.addEventListener('submit', (e) => {
            if (isLocked) {
                e.preventDefault();
                return;
            }
        
            const email = emailInput.value.toLowerCase();
            const password = passwordInput.value;
        
            if (email === VALID_USER && password === VALID_PASS) {
                return true; 
            } else {
                e.preventDefault();
                failedAttempts++;
        
                if (failedAttempts >= 3) {
                    startLockout();
                } else {
                    errorMsg.innerText = `Invalid credentials. Attempt ${failedAttempts} of 3 before lockout.`;
                    showPopup();
                }
            }
        });
        
        function startLockout() {
            isLocked = true;
            failedAttempts = 0; // Reset counter for next time
            closePopup();
            lockoutOverlay.style.display = 'flex';
            
            let timeLeft = 30;
            const interval = setInterval(() => {
                timeLeft--;
                timerBox.innerText = `00:${timeLeft < 10 ? '0' + timeLeft : timeLeft}`;
                
                if (timeLeft <= 0) {
                    clearInterval(interval);
                    isLocked = false;
                    lockoutOverlay.style.display = 'none';
                }
            }, 1000);
        }
        
        function showPopup() { popup.style.display = 'flex'; }
        function closePopup() { popup.style.display = 'none'; }
        <div id="lockout-overlay" class="popup-overlay" style="flex-direction: column;">
            <div class="popup-card">
                <h3 style="color: var(--red); margin-bottom: 15px;">SYSTEM LOCKOUT</h3>
                <p class="sub">Too many failed login attempts detected. Access to this terminal has been suspended.</p>
                <div id="timer-box" style="font-family: 'JetBrains Mono', monospace; font-size: 2rem; color: var(--red); margin: 20px 0;">
                    00:30
                </div>
                <p style="font-size: 11px; opacity: 0.5; text-transform: uppercase;">Identity Verification Required</p>
            </div>
        </div>
    </script>
</body>
</html>




