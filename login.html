<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Login | IAM Portal</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="box"> <div class="card">
                <h1>SECURE LOGIN</h1>
                <span class="sub">Enter your credentials to access the portal</span>
                
                <form action="dashboard.html" method="GET"> <label style="display:block; margin-bottom:5px; font-size:12px; color:var(--muted);">Email Address</label>
                    <input type="email" name="email" class="input" placeholder="name@company.com" required>

                    <label style="display:block; margin-bottom:5px; font-size:12px; color:var(--muted);">Password</label>
                    <input type="password" name="password" class="input" placeholder="••••••••" required>

                    <button type="submit" class="btn-primary">Sign In</button>
                </form>

                <div class="footer-links">
                    <p><a href="register.html">Need an account? Create Profile</a></p>
                    <p style="margin-top:10px;"><a href="forgot_password.html" style="opacity: 0.5; font-size: 12px;">Forgot Password?</a></p>
                </div>
            </div>
        </div>
    </div>
    <div id="error-popup" class="popup-overlay">
        <div class="popup-card">
            <h3 style="color: var(--red); margin-bottom: 10px;">ACCESS DENIED</h3>
            <p class="sub" id="error-message">Invalid credentials provided. Please verify your identity and try again.</p>
            <button onclick="closePopup()" class="btn-primary" style="margin-top: 15px; padding: 10px;">RETRY</button>
        </div>
    </div>
    
    <script>
        // 1. Define valid credentials for the demo
        const VALID_USER = "admin@secure.io";
        const VALID_PASS = "Admin123!";
    
        const loginForm = document.querySelector('form');
        const emailInput = document.querySelector('input[type="email"]');
        const passwordInput = document.querySelector('input[type="password"]');
        const popup = document.getElementById('error-popup');
        const errorMsg = document.getElementById('error-message');
    
        loginForm.addEventListener('submit', (e) => {
            const email = emailInput.value.toLowerCase();
            const password = passwordInput.value;
    
            // 2. Logic to simulate authentication
            if (email === VALID_USER && password === VALID_PASS) {
                // Success! Let the form proceed to dashboard.html
                return true; 
            } else {
                // Failure: Stop the redirect and show the popup
                e.preventDefault(); 
                
                if (email !== VALID_USER) {
                    errorMsg.innerText = "The email address provided does not match our records.";
                } else {
                    errorMsg.innerText = "Incorrect password. Multiple failed attempts may lock your account.";
                }
                
                showPopup();
            }
        });
    
        function showPopup() {
            popup.style.display = 'flex';
        }
    
        function closePopup() {
            popup.style.display = 'none';
        }
    </script>
</body>
</html>



